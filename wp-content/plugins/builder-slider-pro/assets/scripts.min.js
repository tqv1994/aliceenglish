'use strict';(function(n,f){const k=tbLocalScript.addons["pro-slider"],e={},q=function(b){b.preventDefault();b=n(this.closest(".slider-pro")).data("sliderPro");const a="#next-slide"===this.getAttribute("href")?"nextSlide":"previousSlide";"object"===typeof b&&b[a].call(b)},p=function(b,a){var c=b.getElementsByClassName("bsp_frame")[0];b.hasAttribute("data-bg")&&(b.style.backgroundImage="url("+b.getAttribute("data-bg")+")",b.removeAttribute("data-bg"));if(c){var h=c.getAttribute("data-url");const a=
f.parseVideo(h);b=document.createElement("iframe");let d="",g="";"youtube"===a.type?(d="https://www.youtube.com/embed/"+a.id+"?autohide=1&border=0&wmode=opaque",g="accelerometer;encrypted-media;gyroscope;picture-in-picture"):(d="//player.vimeo.com/video/"+a.id+"?portrait=0&title=0&badge=0",g="fullscreen");(h=(h=h.split("?")[1])?new URLSearchParams(h):!1)&&h.get("autoplay")&&(d+="&autoplay=1",g+=";autoplay");b.className="tf_abs tf_w tf_h sp-video";b.setAttribute("allowfullscreen","");b.setAttribute("allow",
g);b.setAttribute("src",d);c.parentNode.replaceChild(b,c)}else if(c=b.getElementsByTagName("video")[0])"none"===c.preload?(c.addEventListener("canplay",function(){this.paused&&this.play()},{passive:!0,once:!0}),!0===a.options.autoplay&&!0===a.isTimerRunning&&c.addEventListener("ended",function(){"normal"===a.settings.autoplayDirection?a.nextSlide():"backwards"===a.settings.autoplayDirection&&a.previousSlide()},{passive:!0}),c.setAttribute("preload","metadata"),c.setAttribute("autoplay","autoplay")):
c.paused&&c.play()},r=function(b){for(let a=b.length-1;-1<a;--a)f.imagesLoad(b[a],function(b){var a=b.elements[0];const c=a.getAttribute("data-slider-width"),d=a.getAttribute("data-slider-height"),g=a.getAttribute("data-autoplay"),e=a.getAttribute("data-thumbnail-width"),k=a.getAttribute("data-thumbnail-height"),m="1"===a.getAttribute("data-pause-last");a={slideDistance:0,buttons:!a.classList.contains("pager-none")&&!a.classList.contains("pager-type-thumb"),arrows:!0,loop:"1"===a.getAttribute("data-loop"),
responsive:!0,autoHeightOnReize:!0,autoHeight:!1,thumbnailTouchSwipe:!0,thumbnailWidth:e?parseFloat(e):"",thumbnailHeight:k?parseFloat(k):"",timer_bar:"yes"===a.getAttribute("data-timer-bar"),autoplayDelay:g&&"off"!==g?parseFloat(g):5E3,autoplay:"off"!==g,autoScaleLayers:!1,autoplayOnHover:a.getAttribute("data-hover-pause"),width:c&&"100%"!==c?parseInt(c):"100%",fadeOutPreviousSlide:!1,touchSwipe:f.isTouch&&"yes"===a.getAttribute("data-touch-swipe-mobile")||!f.isTouch&&"yes"===a.getAttribute("data-touch-swipe-desktop"),
gotoSlide(a){a.index===this.slides.length-1&&!0===this.options.autoplay&&m&&!1===this.options.loop&&this.stopAutoplay();for(let b=0;2>b;++b){let c=this.getSlideAt(a.index+b);c&&(c=c.$slide[0])&&p(c,this)}},init(){p(this.getSlideAt(0).$slide[0],this);const a=this.instance,b=a.getElementsByClassName("bsp-slide-button");for(let a=b.length-1;-1<a;--a){let c=b[a].getAttribute("href");"#next-slide"!==c&&"#prev-slide"!==c||b[a].addEventListener("click",q)}a.classList.remove("tf_hidden","tf_lazy");a.classList.add("tf_bsp_ready")}};
""===d?a.aspectRatio=1.9:a.height=d;n(b.elements[0].getElementsByClassName("slider-pro")[0]).sliderPro(a)})},m=function(b){const a=f.selectWithParent("module-pro-slider",b);if(0<a.length){b={button:"bsp-slide-button",excerpt:"bsp-slide-excerpt",image:"sp-slide-image",video:"sp-video",thumbnails:"sp-thumbnail"};const c={},h=function(){if(!0===e.sliderPro){const b=k.url+"sliderpro/",d=function(){let b=!0;for(let a in c)if(!0!==e[a]){b=!1;break}!0===b&&!0===e.imageloaded&&!0===e.sliderPro&&r(a)};for(let g in c)void 0===
e[g]&&-1===g.indexOf("css_")&&f.LoadAsync(b+g+".js",function(){e[g]=!0;d(a)},"1.2.1",null,function(){return!!e[g]});d(a)}};for(let l=a.length-1;-1<l;--l){if(f.isTouch&&"yes"===a[l].getAttribute("data-touch-swipe-mobile")||!f.isTouch&&"yes"===a[l].getAttribute("data-touch-swipe-desktop"))e.touchSwipe||(c.touchSwipe=!0);for(let d in b)a[l].getElementsByClassName(b[d])[0]&&(f.cssLazy["bsp_"+d]||(c["css_"+d]=!0,f.LoadCss(k.url+"modules/"+("video"===d?d+".min":d)+".css",k.ver,null,null,function(){e["css_"+
d]=!0;f.cssLazy["bsp_"+d]=!0;h()})),"video"===d||"thumbnails"===d)&&(e[d]||(c[d]=!0),"thumbnails"!==d||e.thumbnailtouchSwipe||!0!==c.touchSwipe&&!0!==e.touchSwipe||(c.thumbnailtouchSwipe=!0))}e.imageloaded||f.imagesLoad(function(){e.imageloaded=!0;h()});e.twoSlidesFixer||2!==a.length||(c.twoSlidesFixer=!0);e.sliderPro?h():f.LoadAsync(k.url+"jquery.sliderPro.js",function(){e.sliderPro=!0;h()},"1.2.1",null,function(){return"undefined"!==typeof n.fn.sliderPro})}};if(f.is_builder_active)f.body.on("tb_module_sort tb_grid_changed",
function(b,a){m(a)});f.on("builder_load_module_partial",function(b,a,c){(!0!==c||b[0].classList.contains("module-pro-slider"))&&m(b)})})(jQuery,Themify);
