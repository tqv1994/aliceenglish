'use strict';(function(c){const d="ThumbnailTouchSwipe."+c.SliderPro.namespace;c.SliderPro.addModule("ThumbnailTouchSwipe",{thumbnailTouchStartPoint:{x:0,y:0},thumbnailTouchEndPoint:{x:0,y:0},thumbnailTouchDistance:{x:0,y:0},thumbnailTouchStartPosition:0,isThumbnailTouchMoving:!1,isThumbnailTouchSwipe:!1,thumbnailTouchSwipeEvents:{startEvent:"",moveEvent:"",endEvent:""},initThumbnailTouchSwipe(){this.on("update."+d,this._thumbnailTouchSwipeOnUpdate.bind(this))},_thumbnailTouchSwipeOnUpdate(){!1!==
this.isThumbnailScroller&&(!0===this.settings.thumbnailTouchSwipe&&!1===this.isThumbnailTouchSwipe&&(this.isThumbnailTouchSwipe=!0,this.thumbnailTouchSwipeEvents.startEvent="touchstart."+d+" mousedown."+d,this.thumbnailTouchSwipeEvents.moveEvent="touchmove."+d+" mousemove."+d,this.thumbnailTouchSwipeEvents.endEvent="touchend."+this.uniqueId+"."+d+" mouseup."+this.uniqueId+"."+d,this.$thumbnails.on(this.thumbnailTouchSwipeEvents.startEvent,this._onThumbnailTouchStart.bind(this)).on("dragstart."+d,
function(a){a.preventDefault()}),this.$thumbnails.addClass("sp-grab")),c.each(this.thumbnails,function(a,b){b.off("thumbnailClick")}))},_onThumbnailTouchStart(a){if(!(1<=c(a.target).closest(".sp-selectable").length)){var b="undefined"!==typeof a.originalEvent.touches?a.originalEvent.touches[0]:a.originalEvent;"undefined"===typeof a.originalEvent.touches&&a.preventDefault();c(a.target).parents(".sp-thumbnail-container").find("a").one("click."+d,function(a){a.preventDefault()});this.thumbnailTouchStartPoint.x=
b.pageX||b.clientX;this.thumbnailTouchStartPoint.y=b.pageY||b.clientY;this.thumbnailTouchStartPosition=this.thumbnailsPosition;this.thumbnailTouchDistance.x=this.thumbnailTouchDistance.y=0;this.$thumbnails.hasClass("sp-animated")&&(this.isThumbnailTouchMoving=!0,this._stopThumbnailsMovement(),this.thumbnailTouchStartPosition=this.thumbnailsPosition);this.$thumbnails.on(this.thumbnailTouchSwipeEvents.moveEvent,this._onThumbnailTouchMove.bind(this));c(document).on(this.thumbnailTouchSwipeEvents.endEvent,
this._onThumbnailTouchEnd.bind(this));this.$thumbnails.removeClass("sp-grab").addClass("sp-grabbing");this.$thumbnailsContainer.addClass("sp-swiping")}},_onThumbnailTouchMove(a){var b="undefined"!==typeof a.originalEvent.touches?a.originalEvent.touches[0]:a.originalEvent;this.isThumbnailTouchMoving=!0;this.thumbnailTouchEndPoint.x=b.pageX||b.clientX;this.thumbnailTouchEndPoint.y=b.pageY||b.clientY;this.thumbnailTouchDistance.x=this.thumbnailTouchEndPoint.x-this.thumbnailTouchStartPoint.x;this.thumbnailTouchDistance.y=
this.thumbnailTouchEndPoint.y-this.thumbnailTouchStartPoint.y;b="horizontal"===this.thumbnailsOrientation?this.thumbnailTouchDistance.x:this.thumbnailTouchDistance.y;Math.abs(b)>Math.abs("horizontal"===this.thumbnailsOrientation?this.thumbnailTouchDistance.y:this.thumbnailTouchDistance.x)&&(a.preventDefault(),0<=this.thumbnailsPosition?(a=-this.thumbnailTouchStartPosition,b=a+.2*(b-a)):this.thumbnailsPosition<=-this.thumbnailsSize+this.thumbnailsContainerSize&&(a=this.thumbnailsSize-this.thumbnailsContainerSize+
this.thumbnailTouchStartPosition,b=-a+.2*(b+a)),this._moveThumbnailsTo(this.thumbnailTouchStartPosition+b,!0))},_onThumbnailTouchEnd(a){const b=this;this.$thumbnails.off(this.thumbnailTouchSwipeEvents.moveEvent);c(document).off(this.thumbnailTouchSwipeEvents.endEvent);this.$thumbnails.removeClass("sp-grabbing").addClass("sp-grab");if(!1===this.isThumbnailTouchMoving||!0===this.isThumbnailTouchMoving&&10>Math.abs(this.thumbnailTouchDistance.x)&&10>Math.abs(this.thumbnailTouchDistance.y)){var e=(c(a.target).hasClass("sp-thumbnail-container")?
c(a.target):c(a.target).parents(".sp-thumbnail-container")).index();0!==c(a.target).parents("a").length?(c(a.target).parents("a").off("click."+d),this.$thumbnailsContainer.removeClass("sp-swiping")):e!==this.selectedThumbnailIndex&&-1!==e&&this.gotoSlide(e)}else this.isThumbnailTouchMoving=!1,c(a.target).parents(".sp-thumbnail").one("click",function(a){a.preventDefault()}),setTimeout(function(){b.$thumbnailsContainer.removeClass("sp-swiping")},1),0<this.thumbnailsPosition?this._moveThumbnailsTo(0):
this.thumbnailsPosition<this.thumbnailsContainerSize-this.thumbnailsSize&&this._moveThumbnailsTo(this.thumbnailsContainerSize-this.thumbnailsSize),this.trigger({type:"thumbnailsMoveComplete"}),c.isFunction(this.settings.thumbnailsMoveComplete)&&this.settings.thumbnailsMoveComplete.call(this,{type:"thumbnailsMoveComplete"})},destroyThumbnailTouchSwipe(){this.off("update."+d);!1!==this.isThumbnailScroller&&(this.$thumbnails.off(this.thumbnailTouchSwipeEvents.startEvent+" "+this.thumbnailTouchSwipeEvents.moveEvent+
" dragstart."+d),c(document).off(this.thumbnailTouchSwipeEvents.endEvent),this.$thumbnails.removeClass("sp-grab"))},thumbnailTouchSwipeDefaults:{thumbnailTouchSwipe:!0}})})(jQuery);
