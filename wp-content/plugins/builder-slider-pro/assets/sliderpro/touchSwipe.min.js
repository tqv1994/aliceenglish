'use strict';(function(d){const e="TouchSwipe."+d.SliderPro.namespace;d.SliderPro.addModule("TouchSwipe",{touchStartPoint:{x:0,y:0},touchEndPoint:{x:0,y:0},touchDistance:{x:0,y:0},touchStartPosition:0,isTouchMoving:!1,touchSwipeEvents:{startEvent:"",moveEvent:"",endEvent:""},initTouchSwipe(){!1!==this.settings.touchSwipe&&(this.touchSwipeEvents.startEvent="touchstart."+e+" mousedown."+e,this.touchSwipeEvents.moveEvent="touchmove."+e+" mousemove."+e,this.touchSwipeEvents.endEvent="touchend."+this.uniqueId+
"."+e+" mouseup."+this.uniqueId+"."+e,this.$slidesMask.on(this.touchSwipeEvents.startEvent,d.proxy(this._onTouchStart,this)).on("dragstart."+e,function(a){a.target.closest('[draggable="true"]')||a.preventDefault()}).addClass("sp-grab"))},_onTouchStart(a){const c=a.target;if(!c.closest(".sp-selectable")&&!c.closest("[contenteditable]")){var b="undefined"!==typeof a.originalEvent.touches?a.originalEvent.touches[0]:a.originalEvent;"undefined"===typeof a.originalEvent.touches&&a.preventDefault();d(c).parents(".sp-slide").find("a").one("click."+
e,function(a){a.preventDefault()});this.touchStartPoint.x=b.pageX||b.clientX;this.touchStartPoint.y=b.pageY||b.clientY;this.touchStartPosition=this.slidesPosition;this.touchDistance.x=this.touchDistance.y=0;this.$slides.hasClass("sp-animated")&&(this.isTouchMoving=!0,this._stopMovement(),this.touchStartPosition=this.slidesPosition);this.$slidesMask.on(this.touchSwipeEvents.moveEvent,d.proxy(this._onTouchMove,this));d(document).on(this.touchSwipeEvents.endEvent,d.proxy(this._onTouchEnd,this));this.$slidesMask.removeClass("sp-grab").addClass("sp-grabbing");
this.$slider.addClass("sp-swiping")}},_onTouchMove(a){var c="undefined"!==typeof a.originalEvent.touches?a.originalEvent.touches[0]:a.originalEvent;this.isTouchMoving=!0;this.touchEndPoint.x=c.pageX||c.clientX;this.touchEndPoint.y=c.pageY||c.clientY;this.touchDistance.x=this.touchEndPoint.x-this.touchStartPoint.x;this.touchDistance.y=this.touchEndPoint.y-this.touchStartPoint.y;c="horizontal"===this.settings.orientation?this.touchDistance.x:this.touchDistance.y;Math.abs(c)>Math.abs("horizontal"===
this.settings.orientation?this.touchDistance.y:this.touchDistance.x)&&(a.preventDefault(),!1===this.settings.loop&&(this.slidesPosition>this.touchStartPosition&&0===this.selectedSlideIndex||this.slidesPosition<this.touchStartPosition&&this.selectedSlideIndex===this.getTotalSlides()-1)&&(c*=.2),this._moveTo(this.touchStartPosition+c,!0))},_onTouchEnd(a){var c=this,b="horizontal"===this.settings.orientation?this.touchDistance.x:this.touchDistance.y;this.$slidesMask.off(this.touchSwipeEvents.moveEvent);
d(document).off(this.touchSwipeEvents.endEvent);this.$slidesMask.removeClass("sp-grabbing").addClass("sp-grab");if(!1===this.isTouchMoving||!0===this.isTouchMoving&&10>Math.abs(this.touchDistance.x)&&10>Math.abs(this.touchDistance.y))d(a.target).parents(".sp-slide").find("a").off("click."+e),this.$slider.removeClass("sp-swiping");setTimeout(function(){c.$slider.removeClass("sp-swiping")},1);!1!==this.isTouchMoving&&(this.isTouchMoving=!1,d(a.target).parents(".sp-slide").one("click",function(a){a.preventDefault()}),
a=-parseInt(this.$slides.find(".sp-slide").eq(this.selectedSlideIndex).css(this.positionProperty),10)+this.visibleOffset,Math.abs(b)<this.settings.touchSwipeThreshold?this._moveTo(a):(b/=this.slideSize+this.settings.slideDistance,b=parseInt(b,10)+(0<b?1:-1),b=this.slidesOrder[d.inArray(this.selectedSlideIndex,this.slidesOrder)-b],!0===this.settings.loop?this.gotoSlide(b):"undefined"!==typeof b?this.gotoSlide(b):this._moveTo(a)))},destroyTouchSwipe(){this.$slidesMask.off(this.touchSwipeEvents.startEvent+
" "+this.touchSwipeEvents.moveEvent+" dragstart."+e).removeClass("sp-grab");d(document).off(this.touchSwipeEvents.endEvent)},touchSwipeDefaults:{touchSwipe:!0,touchSwipeThreshold:50}})})(jQuery);
