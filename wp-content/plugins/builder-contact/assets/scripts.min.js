'use strict';(function(g,c){const l=function(e){const k=function(a){const d=new FormData(a[0]);d.append("action","builder_contact_send");d.append("post_id",a.data("post-id"));d.append("orig_id",a.data("orig-id"));d.append("element_id",a.data("element-id"));0<a.find('[name="g-recaptcha-response"]').length&&d.append("contact-recaptcha",a.find('[name="g-recaptcha-response"]').val());g.ajax({url:a.prop("action"),method:"POST",enctype:"multipart/form-data",processData:!1,contentType:!1,cache:!1,data:d,
success:function(b){a.removeClass("sending");b.success?(a.find(".contact-message").html('<p class="ui light-green contact-success">'+b.data.msg+"</p>").fadeIn(),c.body.trigger("builder_contact_message_sent",[a,b.data.msg]),""!==b.data.redirect_url&&(window.location=b.data.redirect_url),a[0].reset()):(a.find(".contact-message").html('<p class="ui red contact-error">'+b.data.error+"</p>").fadeIn(),c.body.trigger("builder_contact_message_failed",[a,b.data.error]));g("html").stop().animate({scrollTop:a.offset().top-
100},500,"swing");"object"===typeof grecaptcha&&"v2"===a.find(".themify_captcha_field").data("ver")&&grecaptcha.reset()}})},h=function(a){c.is_builder_active||a.addEventListener("submit",function(d){d.preventDefault();const b=g(this);if(b.hasClass("sending"))return!1;b.addClass("sending").find(".contact-message").fadeOut();const c=a.getElementsByClassName("themify_captcha_field")[0];"undefined"!==typeof c&&"v3"===c.dataset.ver&&"undefined"!==typeof grecaptcha?grecaptcha.ready(function(){grecaptcha.execute(c.dataset.sitekey,
{action:"captcha"}).then(function(a){b.prepend('<input type="hidden" name="g-recaptcha-response" value="'+a+'">');k(b)})}):k(b)});a.addEventListener("reset",function(){g(this).find('.builder-contact-field .control-input input[type="checkbox"]').prop("required",!0)},{passive:!0})},f=e.getElementsByClassName("themify_captcha_field")[0];if(f&&"undefined"===typeof grecaptcha){const a=f.getAttribute("data-sitekey");if(a){let d="https://www.google.com/recaptcha/api.js";"v3"===f.getAttribute("data-ver")&&
(d+="?render="+a);c.LoadAsync(d,h.bind(null,e),!1,!0,function(){return"undefined"!==typeof grecaptcha})}}else h(e)};c.on("builder_load_module_partial",function(e,g,h){if(!0!==h||e[0].classList.contains("module-contact")){var f=c.selectWithParent("builder-contact",e);for(let a=f.length-1;-1<a;--a)c.requestIdleCallback(function(){l(f[a])},300)}})})(jQuery,Themify);
