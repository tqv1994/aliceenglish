'use strict';(function(k,b){const l=k.isTouch?window.PointerEvent?"pointerdown":"touchstart":"click",M=/iPhone|iPad|iPod|Mac OS/i.test(window.navigator.userAgent),w=function(a){a=Infinity===a?0:a;a=(new Date(1E3*a)).toISOString().substr(11,8).split(":");"00"===a[0]&&a.splice(0,1);return a.join(":")},U=function(a){try{if(a.requestFullscreen)return a.requestFullscreen();if(a.webkitEnterFullscreen)return a.webkitEnterFullscreen();if(a.webkitrequestFullscreen)return a.webkitRequestFullscreen();if(a.mozRequestFullscreen)return a.mozRequestFullScreen()}catch(c){return console.error(c),
!1}},V=function(){try{return b.exitFullscreen?b.exitFullscreen():b.webkitExitFullscreen||b.webkitExitFullscreen?b.webkitExitFullscreen():b.mozCancelFullScreen?b.mozCancelFullScreen():b.msExitFullscreen?b.msExitFullscreen():!1}catch(a){return console.error(a),!1}},W=function(a){return b.exitFullscreen?"":b.webkitExitFullscreen||a.webkitSupportsFullscreen?"webkit":b.mozCancelFullScreen?"moz":b.msExitFullscreen?"ms":!1},N=function(a){const c=W(a);return!1===c?!1:a.hasOwnProperty("webkitDisplayingFullscreen")?
a.webkitDisplayingFullscreen:""===c?b.fullscreenElement:b[c+"FullscreenElement"]},m=function(a,c){const f=b.createElementNS("http://www.w3.org/2000/svg","use"),e=b.createElementNS("http://www.w3.org/2000/svg","svg");a="tf-"+a;e.setAttribute("class","tf_fa "+(c?a+" "+c:a));f.setAttributeNS(null,"href","#"+a);e.appendChild(f);return e},X=function(a){a="tf_video_"+a+"=";for(let c=b.cookie.split(";"),f=c.length-1;-1<f;--f){let b=c[f];for(;" "===b[0];)b=b.substring(1,b.length);if(0===b.indexOf(a))return b.substring(a.length,
b.length)}return null},Y=function(a,c,f){var e="";a="tf_video_"+a;f&&(e=new Date,e.setTime(e.getTime()+864E5*f),e="; expires="+e.toUTCString());b.cookie=a+"="+(c||"")+e+"; path=/"},E=function(a,c){c=b.createDocumentFragment();var f=W(a);const e=k.hash(a.currentSrc.split(".").slice(0,-1).join(".")),O=parseFloat(X(e))||0,x=X("vol_"+e)||-1,d=a.parentNode;var q=b.createElement("div");const r=b.createElement("div"),E=b.createElement("div"),t=b.createElement("div"),P=b.createElement("div"),Q=b.createElement("div"),
u=b.createElement("div"),F=b.createElement("div"),G=b.createElement("div"),y=b.createElement("div"),R=b.createElement("div"),H=b.createElement("div"),I=b.createElement("div"),h=b.createElement("button"),J=b.createElement("button"),z=b.createElement("button"),v=b.createElement("button"),A=b.createElement("button"),B=b.createElement("button"),n=b.createElement("input"),p=b.createElement("input"),Z=!1===M||"mobile"!==k.device;let K=!0,L=!1,C=!1,S;E.className="tf_loader";q.className="tf_video_container tf_w tf_rel tf_box";
r.className="tf_video_wrap tf_w tf_mw tf_box";R.className="tf_play_wrap";y.className="tf_video_controls";t.className="tf_video_progress_wrap tf_rel tf_textl";P.className="tf_video_progress_loaded tf_w tf_h tf_abs";Q.className="tf_video_progress_current tf_w tf_h tf_abs";n.className="tf_video_progress_range tf_w tf_h tf_abs";n.value=0;n.type="range";n.min=0;n.max=100;z.className="tf_video_play";J.className="tf_video_play tf_big_video_play";z.appendChild(m("fas-undo-alt","tf_hide"));J.appendChild(m("fas-undo-alt",
"tf_hide"));d.tabIndex=0;-1!==x&&(x?a.volume=x:a.muted=0);h.type=J.type=z.type=v.type=A.type=B.type="button";A.className="tf_video_seek tf_video_seek_left tf_abs";B.className="tf_video_seek tf_video_seek_right tf_abs";H.className="tf_video_current_time";I.className="tf_video_total_time";u.className="tf_video_hover tf_abs tf_hide tf_box tf_textc";v.className="tf_video_fullscreen";H.textContent=w(a.currentTime);I.textContent=w(a.duration);q=function(a){d.classList.add("tf_video_waiting");this.addEventListener("seeking"===
a.type?"seeked":"playing",function(){d.classList.remove("tf_video_waiting")},{passive:!0,once:!0})};const aa=function(){try{a.webkitSupportsPresentationMode?a.webkitSetPresentationMode("picture-in-picture"===a.webkitPresentationMode?"inline":"picture-in-picture"):(N(a)&&V(),a!==b.pictureInPictureElement?a.requestPictureInPicture():b.exitPictureInPicture())}catch(g){console.error(g)}},T=function(){d.classList.add("tf_video_touched");d.classList.remove("tf_hide_controls");S&&clearTimeout(S);S=setTimeout(function(){d.classList.remove("tf_video_touched")},
2500)},ba=function(){!1===C&&(C=!0,"desktop"!==k.device&&(a.muted=!0));a.play()};r.addEventListener(l,function(a){a.stopPropagation()},{passive:!0});d.addEventListener(l,function(b){const g=b.target.closest(".tf_video_seek");b.stopImmediatePropagation();a.paused||!1===C||!k.isTouch||!g&&this.classList.contains("tf_video_touched")?(this.classList.remove("tf_video_touched"),a.paused||!1===C?ba():a.pause()):(T(),g&&(a.currentTime+=g.classList.contains("tf_video_seek_left")?-15:15))},{passive:!0});z.addEventListener(l,
function(b){b.stopPropagation();a.paused||!1===C?ba():a.pause()},{passive:!0});if(!k.isTouch)t.addEventListener("mouseenter",function(b){if(!isNaN(a.duration)){u.classList.remove("tf_hide");const b=this.clientWidth,g=parseFloat(u.clientWidth/2),d=a.duration,c=function(a){a=void 0!==a.layerX?a.layerX:a.offsetX;0<a-g&&a<=b&&(u.style.transform="translateX("+(a-g)+"px)",!1===L&&(u.textContent=w(parseFloat(a/b)*d)))};this.addEventListener("mouseleave",function(){u.classList.add("tf_hide");this.removeEventListener("mousemove",
c,{passive:!0})},{passive:!0,once:!0});this.addEventListener("mousemove",c,{passive:!0})}},{passive:!0});else if(!0===M){var D=window.navigator.userAgent;13.5>parseFloat(D.substr(D.indexOf("OS ")+3,4).replace("_","."))&&(D=function(a){var b="touchstart"===a.type?a.touches[0]?a.touches[0]:a.changedTouches[0]:a;a=this.getElementsByTagName("input")[0];const g=this.getBoundingClientRect();b=a.classList.contains("tf_video_volumn_range")?(b.clientY-g.top)/g.height:(b.clientX-g.left)/g.width;a.value=parseInt(100*
b);k.triggerEvent(a,"input");k.triggerEvent(a,"change")},t.addEventListener(l,D,{passive:!0}),!0===Z&&G.addEventListener(l,D,{passive:!0}))}n.addEventListener("input",function(b){b.preventDefault();isNaN(a.duration)||(a.paused||!0!==K||a.pause(),L=!0,b=parseInt(this.value),b=100===b?a.duration-1:parseFloat(b*a.duration/100).toFixed(4),a.currentTime=b,k.isTouch||(u.textContent=w(b)))});n.addEventListener("change",function(b){b.preventDefault();isNaN(a.duration)||(L=K=!1,a.paused&&a.play().then(a=>
{K=!0}).catch(a=>{K=!0}))});a.addEventListener("progress",function(){0<this.buffered.length&&(P.style.transform="scaleX("+parseFloat(this.buffered.end(0)/this.duration).toFixed(4)+")")},{passive:!0});a.addEventListener("durationchange",function(){I.textContent=w(this.duration)},{passive:!0});a.addEventListener("seeking",q,{passive:!0});a.addEventListener("waiting",q,{passive:!0});a.addEventListener("emptied",q,{passive:!0});a.addEventListener("pause",function(){d.classList.remove("tf_video_is_playing")},
{passive:!0});a.addEventListener("play",function(){d.classList.add("tf_video_is_playing");for(let a=b.getElementsByTagName("video"),d=a.length-1;-1<d;--d)a[d]!==this&&a[d].pause()},{passive:!0});a.addEventListener("playing",function(){d.classList.remove("tf_video_ended")},{passive:!0});a.addEventListener("ended",function(){d.classList.add("tf_video_ended")},{passive:!0});a.addEventListener("timeupdate",function(){if(!isNaN(this.duration)){H.textContent=w(this.currentTime);const b=parseFloat(this.currentTime/
a.duration);Q.style.transform="scaleX("+b.toFixed(4)+")";!1===L&&(n.value=parseInt(100*b));Y(e,this.currentTime,30)}},{passive:!0});if(!1!==f){let g=!1,c=!1;const e=function(){h(!0);c&&clearTimeout(c);c=setTimeout(h,3E3)},h=function(a){!0===g||!0===a?(g=!1,d.classList.remove("tf_hide_controls")):(g=!0,d.classList.add("tf_hide_controls"))};q=function(c){const g=c.touches?c.touches[0].target:c.target;if("dblclick"!==c.type||g&&!g.closest(".tf_video_wrap"))c.preventDefault(),N(a)?V(a):(c=function(){U(d)||
U(a)},b.pictureInPictureElement||"picture-in-picture"===a.webkitPresentationMode?(aa(),setTimeout(c,80)):c())};v.addEventListener(l,q);k.isTouch||d.addEventListener("dblclick",q);d.addEventListener(f+"fullscreenchange",function(b){N(a)?(d.classList.add("tf_is_fullscreen"),d.addEventListener("mousemove",e,{passive:!0}),a.addEventListener("pause",e,{passive:!0}),c&&clearTimeout(c),c=setTimeout(h,3E3)):(d.classList.remove("tf_is_fullscreen","tf_hide_controls"),c&&clearTimeout(c),a.removeEventListener("pause",
e,{passive:!0}),d.removeEventListener("mousemove",e,{passive:!0}))},{passive:!0})}else v.className+=" tf_fullscreen_disabled tf_play_disabled";v.appendChild(m("fas-expand"));t.appendChild(P);t.appendChild(n);t.appendChild(Q);t.appendChild(u);!0===Z&&(p.addEventListener("input",function(b){b.preventDefault();b=parseFloat(this.value/100).toFixed(3);a.volume=b;a.muted=0<b?!1:!0}),a.addEventListener("volumechange",function(){!0===this.muted||0===this.volume?h.classList.add("tf_muted"):h.classList.remove("tf_muted");
Y("vol_"+e,this.volume,120)},{passive:!0}),h.addEventListener(l,function(b){a.muted=!a.muted;a.muted||0!==a.volume||(p.value=50,k.triggerEvent(p,"input"))},{passive:!0}),h.appendChild(m("fas-volume-up")),h.appendChild(m("fas-volume-mute")),F.appendChild(h),p.min=0,p.max=100,p.type="range",p.value=-1<x?100*x:50,G.className="tf_video_volumn_inner",p.className="tf_video_volumn_range",F.className="tf_video_volumn_wrap tf_rel",h.className="tf_video_mute tf_rel tf_overflow",a.muted&&(h.className+=" tf_muted"),
G.appendChild(p),F.appendChild(G),y.appendChild(F));!a.hasAttribute("disablePictureInPicture")&&b.pictureInPictureEnabled&&(f=b.createElement("button"),f.addEventListener(l,aa,{passive:!0}),f.className="tf_video_pip",a.addEventListener("enterpictureinpicture",function(a){d.classList.add("tf_is_pip")},{passive:!0}),a.addEventListener("leavepictureinpicture",function(a){d.classList.remove("tf_is_pip")},{passive:!0}),f.appendChild(m("fas-external-link-alt")),y.appendChild(f));y.appendChild(v);R.appendChild(z);
r.appendChild(R);r.appendChild(H);r.appendChild(t);r.appendChild(I);r.appendChild(y);B.innerHTML=A.innerHTML="<span>15</span>";B.appendChild(m("fas-redo-alt"));A.appendChild(m("fas-undo-alt"));c.appendChild(A);c.appendChild(B);c.appendChild(r);c.appendChild(J);c.appendChild(E);d.appendChild(c);window.WebKitPlaybackTargetAvailabilityEvent&&a.addEventListener("webkitplaybacktargetavailabilitychanged",function(c){"available"===c.availability&&(c=b.createElement("button"),c.className="tf_video_airplay",
c.addEventListener(l,function(){a.webkitShowPlaybackTargetPicker()},{passive:!0}),c.appendChild(m("fas-airplay")),v.before(c))},{passive:!0,once:!0});0<O&&O<a.duration&&(a.currentTime=O);a.autoplay&&d.classList.add("tf_video_is_playing");a.setAttribute("webkit-playsinline","1");a.setAttribute("playsinline","1");a.removeAttribute("controls");d.classList.remove("tf_lazy")},T=function(a,c){for(let f=a.length-1;-1<f;--f){let e=a[f],l=e.parentNode;if(!l.classList.contains("tf_video_lazy")){let a=b.createElement("div");
a.className="tf_video_lazy tf_w tf_box tf_rel tf_overflow tf_lazy";a.appendChild(e);l.appendChild(a)}4===e.readyState?E(e,c):k.requestIdleCallback(function(){e.addEventListener("loadedmetadata",function(){E(this)},{passive:!0,once:!0});e.setAttribute("preload","metadata");!0===M&&e.load()},200)}};k.on("tf_video_init",function(a){a instanceof jQuery?a=a.get():void 0===a.length&&(a=[a]);T(a)})})(Themify,document);
