'use strict';(function(k,g,m){let l;const h={},d=g.isTouch?"click":"mouseover",e=function(a){if(!(g.w<l||a.target.closest(".mega-menu-posts"))){var b="mouseenter"===a.type||"focus"===a.type?this.getElementsByClassName("mega-link")[0]:a.target;b.classList.contains("child-arrow")&&(b=b.closest(".has-mega-sub-menu").getElementsByClassName("mega-link")[0]);if(b=b.classList.contains("mega-link")?b:b.closest(".tf_mega_taxes .mega-link")){"click"===a.type&&a.preventDefault();a=k(b);var c=a.data("termid"),
e=a.data("tax"),d=b.getElementsByTagName("a")[0].classList;b=a.closest(".mega-sub-menu");var f=a[0].getElementsByClassName("mega-menu-posts")[0];f||(f=m.createElement("div"),f.className="mega-menu-posts tf_left tf_box",a[0].appendChild(f));b.find(".tf_mega_selected").removeClass("tf_mega_selected");a.addClass("tf_mega_selected");void 0!==h[c]?f.innerHTML=h[c]:d.contains("tf_loader")||(d.add("tf_loader"),k.ajax({url:themify_vars.ajax_url,type:"POST",data:{action:"themify_theme_mega_posts",termid:c,
tax:e},complete:function(){d.remove("tf_loader")},success:function(a){h[c]=a;f.innerHTML=h[c]}}))}}};g.on("tf_mega_menu",function(a,b){a=a.getElementsByClassName("tf_mega_taxes");l=b;for(b=a.length-1;-1<b;--b){a[b].addEventListener(d,e);"mouseover"===d&&a[b].addEventListener("focusin",e);let c=a[b].closest(".has-mega-sub-menu");c&&("mouseover"===d?(c.addEventListener("mouseenter",e,{passive:!0}),c.querySelector("a").addEventListener("focus",e.bind(c),{passive:!0})):c.getElementsByClassName("child-arrow")[0].addEventListener("click",
e))}},!0);g.isTouch||setTimeout(function(){g.edgeMenu()},1500)})(jQuery,Themify,document);
